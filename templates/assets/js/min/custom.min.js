function getChildren(t,e){for(var s of t.children)if(s.className===e)return s;return null}document.addEventListener("DOMContentLoaded",()=>{$(".joe_detail__article p:empty").remove(),customElements.define("joe-mtitle",class extends HTMLElement{constructor(){super(),this.innerHTML=`
				<span class="joe_mtitle">
					<span class="joe_mtitle__text">
						${this.getAttribute("title")||"默认标题"}
					</span>
				</span>
			`}}),customElements.define("joe-mp3",class extends HTMLElement{constructor(){super(),this.options={name:this.getAttribute("name"),url:this.getAttribute("url"),theme:this.getAttribute("theme")||"#1989fa",cover:this.getAttribute("cover")||"",autoplay:!!this.getAttribute("autoplay")},this.render()}render(){if(!this.options.url)return this.innerHTML="音频地址未填写！";this.innerHTML='<span style="display: block" class="_content"></span>',new APlayer({container:getChildren(this,"_content"),theme:this.options.theme,autoplay:this.options.autoplay,audio:[{url:this.options.url,name:this.options.name,cover:this.options.cover}]})}}),customElements.define("joe-music",class extends HTMLElement{constructor(){super(),this.options={id:this.getAttribute("id"),color:this.getAttribute("color")||"#1989fa",autoplay:!!this.getAttribute("autoplay")},this.render()}render(){if(!this.options.id)return this.innerHTML="网易云歌曲ID未填写！";this.innerHTML='<span style="display: block" class="_content"></span>',fetch("https://www.vvhan.com/usr/themes/Joe/NeteaseCloudMusicApi.php?id="+this.options.id).then(async t=>{t=await t.json();new APlayer({container:getChildren(this,"_content"),lrcType:1,theme:this.options.color,autoplay:this.options.autoplay,audio:t})})}}),customElements.define("joe-mlist",class extends HTMLElement{constructor(){super(),this.options={id:this.getAttribute("id"),color:this.getAttribute("color")||"#1989fa",autoplay:!!this.getAttribute("autoplay")},this.render()}render(){if(!this.options.id)return this.innerHTML="网易云歌单ID未填写！";this.innerHTML='<span style="display: block" class="_content"></span>',fetch("https://api.i-meto.com/meting/api?server=netease&type=playlist&id="+this.options.id).then(async t=>{t=await t.json();new APlayer({container:getChildren(this,"_content"),lrcType:3,theme:this.options.color,autoplay:this.options.autoplay,audio:t})})}}),customElements.define("joe-abtn",class extends HTMLElement{constructor(){super(),this.options={icon:this.getAttribute("icon")||"",color:this.getAttribute("color")||"#ff6800",href:this.getAttribute("href")||"#",radius:this.getAttribute("radius")||"17.5px",content:this.getAttribute("content")||"多彩按钮"},this.innerHTML=`
                    <a class="joe_abtn" style="background: ${this.options.color}; border-radius: ${this.options.radius}" href="${this.options.href}" target="_blank" rel="noopener noreferrer nofollow">
                        <span class="joe_abtn__icon">
                            <i class="${this.options.icon} fa"></i>
                        </span>
                        <span class="joe_abtn__content">
                            ${this.options.content}
                        </span>
                    </a>
                `}}),customElements.define("joe-anote",class extends HTMLElement{constructor(){super(),this.options={icon:this.getAttribute("icon")||"fa-download",href:this.getAttribute("href")||"#",type:/^secondary$|^success$|^warning$|^error$|^info$/.test(this.getAttribute("type"))?this.getAttribute("type"):"secondary",content:this.getAttribute("content")||"标签按钮"},this.innerHTML=`
					<a class="joe_anote ${this.options.type}" href="${this.options.href}" target="_blank" rel="noopener noreferrer nofollow">
						<span class="joe_anote__icon">
							<i class="fa ${this.options.icon}"></i>
						</span>
						<span class="joe_anote__content">
							${this.options.content}
						</span>
					</a>
				`}}),customElements.define("joe-dotted",class extends HTMLElement{constructor(){super(),this.startColor=this.getAttribute("startColor")||"#ff6c6c",this.endColor=this.getAttribute("endColor")||"#1989fa",this.innerHTML=`
					<span class="joe_dotted" style="background-image: repeating-linear-gradient(-45deg, ${this.startColor} 0, ${this.startColor} 20%, transparent 0, transparent 25%, ${this.endColor} 0, ${this.endColor} 45%, transparent 0, transparent 50%)"></span>
				`}}),customElements.define("joe-cloud",class extends HTMLElement{constructor(){super(),this.options={type:this.getAttribute("type")||"default",title:this.getAttribute("title")||"默认标题",url:this.getAttribute("url"),password:this.getAttribute("password")};this.innerHTML=`
					<span class="joe_cloud">
						<div class="joe_cloud__logo _${this.options.type}"></div>
						<div class="joe_cloud__describe">
							<div class="joe_cloud__describe-title">${this.options.title}</div>
							<div class="joe_cloud__describe-type">来源：${{default:"默认网盘",360:"360网盘",bd:"百度网盘",ty:"天翼网盘",ct:"城通网盘",wy:"微云网盘",github:"Github仓库",gitee:"Gitee仓库",lz:"蓝奏云网盘"}[this.options.type]||"默认网盘"}${this.options.password?" | 提取码："+this.options.password:""}</div>
						</div>
						<a class="joe_cloud__btn" href="${this.options.url}" target="_blank" rel="noopener noreferrer nofollow">
							<i class="fa fa-download"></i>
						</a>
					</span>
				`}}),customElements.define("joe-read-limited",class extends HTMLElement{constructor(){super(),this.render()}render(){this.innerHTML='<div class="joe_read_limited"><p><i class="joe-font joe-icon-locker" style="color:#f5840d;"></i>&nbsp;此处内容仅 <span class="joe_read_limited__button">评论</span> 后可见</p></div>',this.$button=this.querySelector(".joe_read_limited__button");const e=document.querySelector(".joe_comment"),s=document.querySelector(".joe_header");var t=$(".joe_detail").attr("data-cid");console.log(t),e&&s&&this.$button.addEventListener("click",t=>{t.stopPropagation(),document.querySelector(".halo-comment-widget").length?(t=e.offsetTop-s.offsetHeight-15,$("html,body").animate({scrollTop:t},500)):(console.log(document.querySelector(".halo-comment-widget")),Qmsg.warning("评论功能不可用！"))})}}),customElements.define("joe-card-default",class extends HTMLElement{constructor(){super();var t,e=getChildren(this,"_temp"),e=(this.options={width:this.getAttribute("width")||"100%",label:this.getAttribute("label")||"卡片标题",content:e.innerHTML.trim().replace(/^(<br>)|(<br>)$/g,"")||"卡片内容"},`
				<div class="joe_card__default" style="width: ${this.options.width}">
					<div class="joe_card__default-title">${this.options.label}</div>
					<div class="joe_card__default-content">${this.options.content}</div>
				</div>
			`);getChildren(this,"_content")?getChildren(this,"_content").innerHTML=e:((t=document.createElement("span")).style.display="block",t.className="_content",t.innerHTML=e,this.appendChild(t))}}),customElements.define("joe-message",class extends HTMLElement{constructor(){super(),this.options={type:/^success$|^info$|^warning$|^error$/.test(this.getAttribute("type"))?this.getAttribute("type"):"info",content:this.getAttribute("content")||"消息内容"},this.innerHTML=`
					<span class="joe_message ${this.options.type}">
						<span class="joe_message__icon"></span>
						<span class="joe_message__content">${this.options.content}</span>
					</span>
				`}}),customElements.define("joe-progress",class extends HTMLElement{constructor(){super(),this.options={percentage:/^\d{1,3}%$/.test(this.getAttribute("percentage"))?this.getAttribute("percentage"):"50%",color:this.getAttribute("color")||"#ff6c6c"},this.innerHTML=`
				<span class="joe_progress">
					<div class="joe_progress__strip">
						<div class="joe_progress__strip-percent" style="width: ${this.options.percentage}; background: ${this.options.color};"></div>
					</div>
					<div class="joe_progress__percentage">${this.options.percentage}</div>
				</span>
			`}}),customElements.define("joe-callout",class extends HTMLElement{constructor(){super();var t,e=getChildren(this,"_temp"),e=(this.options={color:this.getAttribute("color")||"#f0ad4e",content:e.innerHTML.trim().replace(/^(<br>)|(<br>)$/g,"")||"标注内容"},`
					<div class="joe_callout" style="border-left-color: ${this.options.color};">
						${this.options.content}
					</div>
				`);getChildren(this,"_content")?getChildren(this,"_content").innerHTML=e:((t=document.createElement("span")).style.display="block",t.className="_content",t.innerHTML=e,this.appendChild(t))}}),customElements.define("joe-card-describe",class extends HTMLElement{constructor(){super();var t,e=getChildren(this,"_temp"),e=(this.options={title:this.getAttribute("title")||"卡片描述",content:e.innerHTML.trim().replace(/^(<br>)|(<br>)$/g,"")||"卡片内容"},`
					<div class="joe_card__describe">
						<div class="joe_card__describe-title">${this.options.title}</div>
						<div class="joe_card__describe-content">${this.options.content}</div>
					</div>
				`);getChildren(this,"_content")?getChildren(this,"_content").innerHTML=e:((t=document.createElement("span")).style.display="block",t.className="_content",t.innerHTML=e,this.appendChild(t))}}),customElements.define("joe-card-list",class extends HTMLElement{constructor(){super();var t=getChildren(this,"_temp").innerHTML.trim().replace(/^(<br>)|(<br>)$/g,"");let s="";t.replace(/{card-list-item}([\s\S]*?){\/card-list-item}/g,function(t,e){s+=`<div class="joe_card__list-item">${e.trim().replace(/^(<br>)|(<br>)$/g,"")}</div>`});var e,t=`<div class="joe_card__list">${s}</div>`;getChildren(this,"_content")?getChildren(this,"_content").innerHTML=t:((e=document.createElement("span")).className="_content",e.style.display="block",e.innerHTML=t,this.appendChild(e))}}),customElements.define("joe-alert",class extends HTMLElement{constructor(){super();var t,e=getChildren(this,"_temp"),e=(this.options={type:/^success$|^info$|^warning$|^error$/.test(this.getAttribute("type"))?this.getAttribute("type"):"info",content:e.innerHTML.trim().replace(/^(<br>)|(<br>)$/g,"")||"警告提示"},`
					<div class="joe_alert ${this.options.type}">
						${this.options.content}
					</div>
				`);getChildren(this,"_content")?getChildren(this,"_content").innerHTML=e:((t=document.createElement("span")).style.display="block",t.className="_content",t.innerHTML=e,this.appendChild(t))}}),customElements.define("joe-timeline",class extends HTMLElement{constructor(){super();var t=getChildren(this,"_tpl"),e=t.innerHTML.trim().replace(/^(<br>)|(<br>)$/g,"");let i="";e.replace(/{timeline-item([^}]*)}([\s\S]*?){\/timeline-item}/g,function(t,e,s){i+=`
					<div class="joe_timeline__item">
						<div class="joe_timeline__item-tail"></div>
						<div class="joe_timeline__item-circle" ${e}></div>
						<div class="joe_timeline__item-content">${s.trim().replace(/^(<br>)|(<br>)$/g,"")}</div>
					</div>
				`});var s,e=`<div class="joe_timeline">${i}</div>`;getChildren(this,"_content")?getChildren(this,"_content").innerHTML=e:((s=document.createElement("span")).className="_content",s.style.display="block",s.innerHTML=e,this.appendChild(s)),this.querySelectorAll(".joe_timeline__item-circle").forEach((t,e)=>{var s=t.getAttribute("color")||"#19be6b";t.style.borderColor=s}),t.parentNode.removeChild(t)}}),customElements.define("joe-collapse",class extends HTMLElement{constructor(){super();var t=getChildren(this,"_temp").innerHTML.trim().replace(/^(<br>)|(<br>)$/g,"");let i="";t.replace(/{collapse-item([^}]*)}([\s\S]*?){\/collapse-item}/g,function(t,e,s){i+=`
					<div class="joe_collapse__item" ${e}>
						<div class="joe_collapse__item-head">
							<div class="joe_collapse__item-head--label"></div>
							<svg class="joe_collapse__item-head--icon" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path d="M7.406 7.828L12 12.422l4.594-4.594L18 9.234l-6 6-6-6z"/></svg>
						</div>
						<div class="joe_collapse__item-wrapper">
							<div class="joe_collapse__item-wrapper--content">${s.trim().replace(/^(<br>)|(<br>)$/g,"")}</div>
						</div>
					</div>
				`});var e,t=`<div class="joe_collapse">${i}</div>`;getChildren(this,"_content")?getChildren(this,"_content").innerHTML=t:((e=document.createElement("span")).className="_content",e.style.display="block",e.innerHTML=t,this.appendChild(e)),this.querySelectorAll(".joe_collapse__item").forEach(s=>{var t=s.getAttribute("label")||"折叠标题",e=getChildren(s,"joe_collapse__item-head");getChildren(e,"joe_collapse__item-head--label").innerHTML=t;const i=getChildren(s,"joe_collapse__item-wrapper"),n=getChildren(i,"joe_collapse__item-wrapper--content");null!==s.getAttribute("open")&&(s.classList.add("active"),i.style.maxHeight="none"),e.addEventListener("click",t=>{t.stopPropagation(),i.style.maxHeight=n.offsetHeight+"px";let e=setTimeout(()=>{s.classList.contains("active")?(s.classList.remove("active"),i.style.maxHeight=0):(s.classList.add("active"),i.style.maxHeight=n.offsetHeight+"px"),clearTimeout(e),e=null},30)})})}}),customElements.define("joe-dplayer",class extends HTMLElement{constructor(){super(),this.options={src:this.getAttribute("src")||"",player:this.getAttribute("player")||"/themes/theme-Joe3/assets/lib/dplayer/web/dplayer.html?url=",width:this.getAttribute("width")||"100%",height:this.getAttribute("height")||"500px"},this.render()}render(){this.options.src?this.innerHTML=`<iframe allowfullscreen="true" class="joe_vplayer" src="${this.options.player+this.options.src}" style="width:${this.options.width};height:${this.options.height}"></iframe>`:this.innerHTML="视频地址未填写！"}}),customElements.define("joe-bilibili",class extends HTMLElement{constructor(){super(),this.options={bvid:this.getAttribute("bvid"),page:+(this.getAttribute("page")||"1"),width:this.getAttribute("width")||"100%",height:this.getAttribute("height")||"500px"},this.render()}render(){this.options.bvid?this.innerHTML=`<iframe allowfullscreen="true" class="joe_vplayer" src="//player.bilibili.com/player.html?bvid=${this.options.bvid}&page=${this.options.page}" style="width:${this.options.width};height:${this.options.height}"></iframe>`:this.innerHTML="bvid未填写！"}}),customElements.define("joe-raw-content",class extends HTMLElement{constructor(){super(),this.options={content:this.querySelector("#_raw"),width:this.getAttribute("width")||"unset",height:this.getAttribute("height")||"unset"},this.render()}render(){this.options.content&&this.attachShadow({mode:"closed"}).appendChild(this.options.content)}}),customElements.define("joe-tabs",class extends HTMLElement{constructor(){super();var t=getChildren(this,"_tpl"),e=t.innerHTML.trim().replace(/^(<br>)|(<br>)$/g,"");let i="",n="";e.replace(/{tabs-pane([^}]*)}([\s\S]*?){\/tabs-pane}/g,function(t,e,s){i+=`<div class="joe_tabs__head-item" label="${e}"></div>`,n+=`<div style="display: none" class="joe_tabs__body-item" label="${e}">${s.trim().replace(/^(<br>)|(<br>)$/g,"")}</div>`});var s,e=`
                <div class="joe_tabs">
                    <div class="joe_tabs__head">${i}</div>
                    <div class="joe_tabs__body">${n}</div>
                </div>
            `;getChildren(this,"_content")?getChildren(this,"_content").innerHTML=e:((s=document.createElement("span")).className="_content",s.style.display="block",s.innerHTML=e,this.appendChild(s)),this.querySelectorAll(".joe_tabs__head-item").forEach((e,t)=>{const s=e.getAttribute("label");e.innerHTML=s,e.addEventListener("click",t=>{t.stopPropagation(),this.querySelectorAll(".joe_tabs__head-item").forEach(t=>t.classList.remove("active")),this.querySelectorAll(".joe_tabs__body-item").forEach(t=>t.style.display="none"),this.querySelector(`.joe_tabs__body-item[label="${s}"]`)&&(this.querySelector(`.joe_tabs__body-item[label="${s}"]`).style.display="block"),e.classList.add("active")}),0===t&&e.click()}),t.parentNode.removeChild(t)}}),customElements.define("joe-gird",class extends HTMLElement{constructor(){super(),this.options={column:isNaN(this.getAttribute("column"))||!this.getAttribute("column")?3:this.getAttribute("column"),gap:isNaN(this.getAttribute("gap"))||!this.getAttribute("gap")?15:this.getAttribute("gap")};var t=getChildren(this,"_temp").innerHTML.trim().replace(/^(<br>)|(<br>)$/g,"");let s="";t.replace(/{gird-item}([\s\S]*?){\/gird-item}/g,function(t,e){s+=`<div class="joe_gird__item">${e.trim().replace(/^(<br>)|(<br>)$/g,"")}</div>`});var e,t=`<div class="joe_gird" style="gap: ${this.options.gap}px; grid-template-columns: repeat(${this.options.column}, 1fr);">${s}</div>`;getChildren(this,"_content")?getChildren(this,"_content").innerHTML=t:((e=document.createElement("span")).className="_content",e.style.display="block",e.innerHTML=t,this.appendChild(e))}}),customElements.define("joe-copy",class extends HTMLElement{constructor(){super(),this.options={title:this.getAttribute("title")||"点击复制",content:this.getAttribute("content")||"默认文本",color:this.getAttribute("color")||"inherit",bold:null!=this.getAttribute("bold")?"bold":"normal"},this.innerHTML=`<span class="joe_copy" style="cursor: pointer; user-select: none;font-weight:${this.options.bold};color:${this.options.color};">${this.options.title}</span>`;var t=getChildren(this,"joe_copy");"undefined"!=typeof ClipboardJS&&"undefined"!=typeof Qmsg?new ClipboardJS(t,{text:()=>this.options.content}).on("success",()=>Qmsg.success("复制成功！")):t.addEventListener("click",()=>alert("该功能请前往前台查看！"))}}),$(".joe_detail__article p:empty").remove()});